(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{2310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),n=r(2115),l=r(4017);r(2283);var s=r(3360),i=r(3543);let o={components:{...s.SR,...i.Bh,TextSection:{fields:{title:{type:"text"},content:{type:"textarea"},align:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}]}},defaultProps:{title:"Section Title",content:"Section content goes here",align:"center"},render:e=>{let{title:t,content:r,align:n}=e;return(0,a.jsxs)("div",{className:"py-24 px-6 text-".concat(n),children:[(0,a.jsx)("h2",{className:"text-4xl font-black text-white mb-4",children:t}),(0,a.jsx)("p",{className:"text-lg text-text-secondary",children:r})]})}},CardGrid:{fields:{title:{type:"text"},cards:{type:"array",arrayFields:{cardTitle:{type:"text"},cardDesc:{type:"textarea"},icon:{type:"text"}}}},defaultProps:{title:"Features",cards:[{cardTitle:"Feature 1",cardDesc:"Description",icon:"⚡"},{cardTitle:"Feature 2",cardDesc:"Description",icon:"\uD83D\uDD12"}]},render:e=>{let{title:t,cards:r}=e;return(0,a.jsxs)("div",{className:"py-24 px-6",children:[(0,a.jsx)("h2",{className:"text-4xl font-black text-white mb-12 text-center",children:t}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:null==r?void 0:r.map((e,t)=>(0,a.jsxs)("div",{className:"bg-glass-light/30 border border-white/8 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:e.icon}),(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:e.cardTitle}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:e.cardDesc})]},t))})]})}},CTAButton:{fields:{label:{type:"text"},variant:{type:"select",options:[{label:"Primary (Glow)",value:"glow"},{label:"Secondary (Outline)",value:"outline"}]},url:{type:"text"}},defaultProps:{label:"Click me",variant:"glow",url:"#"},render:e=>{let{label:t,variant:r,url:n}=e;return(0,a.jsx)("div",{className:"py-8 text-center",children:(0,a.jsx)("a",{href:n,className:"px-8 py-3 font-bold rounded-lg inline-block ".concat("glow"===r?"bg-gradient-to-br from-brand-purple to-brand-blue text-white shadow-lg":"border-2 border-brand-purple text-brand-purple hover:bg-brand-purple/10"),children:t})})}},Spacer:{fields:{height:{type:"select",options:[{label:"Small (16px)",value:"16"},{label:"Medium (32px)",value:"32"},{label:"Large (64px)",value:"64"},{label:"Extra Large (96px)",value:"96"}]}},defaultProps:{height:"32"},render:e=>{let{height:t}=e;return(0,a.jsx)("div",{style:{height:"".concat(t,"px")}})}}}},c=function(e){let{repoOwner:t,repoName:r,onChangeRepo:s}=e,[i,c]=(0,n.useState)({content:[],root:{}}),[d,u]=(0,n.useState)(!1),[p,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)("Update page content"),[m,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{u(!0),v()},[]);let v=async()=>{try{let e=t&&r?"?owner=".concat(encodeURIComponent(t),"&repo=").concat(encodeURIComponent(r)):"",a=await fetch("/api/save-page".concat(e));if(a.ok){let{data:e}=await a.json();c(e),console.log("✓ Loaded page data from GitHub");return}}catch(e){console.warn("Could not load from GitHub, trying localStorage...")}let e=localStorage.getItem("sitewise.puckData");if(e)try{c(JSON.parse(e)),console.log("✓ Loaded page data from localStorage")}catch(e){console.warn("Failed to load saved Puck data",e)}},f=async()=>{if(!h.trim())return void alert("Please enter a commit message");b(!0),g(null);try{let e={pageData:i,message:h.trim()};t&&r&&(e.owner=t,e.repo=r);let a=await fetch("/api/save-page",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to save to GitHub")}let n=await a.json();g("✓ Committed to GitHub! ".concat(n.url)),console.log("✓ Page saved to GitHub:",n.url),alert("Saved to GitHub!\nCommit: ".concat(n.commit,"\n\nGitHub Actions will rebuild the site automatically."))}catch(t){let e=t.message||"Unknown error";g("✗ Error: ".concat(e)),console.error("Error saving to GitHub:",t),alert("Failed to save to GitHub:\n".concat(e,"\n\nMake sure GITHUB_TOKEN env var is set."))}finally{b(!1)}};return d?(0,a.jsx)("div",{className:"relative w-full",children:(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-black",children:[(0,a.jsxs)("div",{className:"flex flex-col bg-neutral-900 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"sitewise.dev Page Editor (Puck)"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[t&&r&&s&&(0,a.jsx)("button",{onClick:s,className:"px-3 py-2 bg-blue-600 text-white rounded text-sm font-semibold hover:bg-blue-700",children:"\uD83D\uDCC1 Change Repo"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-neutral-700 text-white rounded font-semibold hover:bg-neutral-600",children:"Close Editor"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 px-6 py-3 border-t border-white/10 bg-neutral-950",children:[(0,a.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Commit message...",className:"flex-1 min-w-[300px] px-3 py-2 bg-neutral-800 border border-white/20 rounded text-white text-sm"}),(0,a.jsx)("button",{onClick:f,disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded font-semibold hover:bg-green-700 disabled:opacity-50",children:p?"Saving...":"\uD83D\uDCBE Commit to GitHub"}),(0,a.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="sitewise-page-".concat(new Date().toISOString().split("T")[0],".json"),r.click(),URL.revokeObjectURL(t)},className:"px-4 py-2 bg-blue-600 text-white rounded font-semibold hover:bg-blue-700",children:"\uD83D\uDCE5 Export JSON"}),(0,a.jsxs)("label",{className:"px-4 py-2 bg-blue-600 text-white rounded font-semibold hover:bg-blue-700 cursor-pointer",children:["\uD83D\uDCE4 Import JSON",(0,a.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(!r)return;let a=new FileReader;a.onload=e=>{try{var t;let r=JSON.parse(null==(t=e.target)?void 0:t.result);c(r),localStorage.setItem("sitewise.puckData",JSON.stringify(r)),alert("✓ Page data imported successfully!")}catch(e){alert("Failed to import JSON file. Make sure it's valid Puck data.")}},a.readAsText(r)},className:"hidden"})]})]}),m&&(0,a.jsx)("div",{className:"px-6 py-2 text-sm text-white bg-neutral-800 border-t border-white/10",children:m})]}),(0,a.jsx)("div",{className:"h-[calc(100vh-140px)] overflow-auto",children:(0,a.jsx)(l.Ci,{config:o,data:i,onPublish:e=>{c(e),localStorage.setItem("sitewise.puckData",JSON.stringify(e)),console.log("✓ Page saved to localStorage")}})})]})}):null};function d(e){let{onSelectRepo:t,onClose:r,initialData:l}=e,[s,i]=(0,n.useState)("choose"),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[p,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)("sitewise-site"),[m,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/repo/list");if(e.ok){let t=await e.json();c(t.repos||[])}else g("Failed to load repos")}catch(e){g("Error loading repos")}finally{u(!1)}})()},[]);let v=async()=>{if(!h.trim())return void g("Please enter a repo name");b(!0),g(null);try{let e=await fetch("/api/repo/ensure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),initialData:l})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create repo")}let r=await e.json();t(r.owner,r.name)}catch(e){g(e.message||"Error creating repo")}finally{b(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-neutral-900 border border-white/20 rounded-lg max-w-2xl w-full max-h-96 overflow-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-neutral-900 border-b border-white/20 p-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-white",children:"Select or Create Repository"}),(0,a.jsx)("button",{onClick:r,className:"text-white/50 hover:text-white",children:"✕"})]}),(0,a.jsxs)("div",{className:"p-6",children:[m&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-500/50 text-red-300 rounded text-sm",children:m}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-white/10",children:[(0,a.jsx)("button",{onClick:()=>i("choose"),className:"px-4 py-2 border-b-2 transition ".concat("choose"===s?"border-brand-purple text-white":"border-transparent text-text-secondary hover:text-white"),children:"Use Existing"}),(0,a.jsx)("button",{onClick:()=>i("create"),className:"px-4 py-2 border-b-2 transition ".concat("create"===s?"border-brand-purple text-white":"border-transparent text-text-secondary hover:text-white"),children:"Create New"})]}),"choose"===s&&(0,a.jsx)("div",{children:d?(0,a.jsx)("div",{className:"text-center text-text-secondary py-8",children:"Loading repos..."}):0===o.length?(0,a.jsx)("div",{className:"text-center text-text-secondary py-8",children:"No repos found. Create a new one."}):(0,a.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,a.jsxs)("button",{onClick:()=>{t(e.owner,e.name)},className:"w-full text-left p-3 rounded border border-white/10 hover:border-brand-purple/50 hover:bg-brand-purple/5 transition",children:[(0,a.jsxs)("div",{className:"font-semibold text-white",children:[e.owner,"/",e.name]}),e.description&&(0,a.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:e.description})]},"".concat(e.owner,"/").concat(e.name)))})}),"create"===s&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-white mb-2",children:"Repository Name"}),(0,a.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"sitewise-site",className:"w-full px-3 py-2 bg-neutral-800 border border-white/20 rounded text-white placeholder-white/40 text-sm"}),(0,a.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"Will be created from the sitewise.dev template repo"})]}),(0,a.jsx)("button",{onClick:v,disabled:p,className:"w-full px-4 py-2 bg-brand-purple text-white rounded font-semibold hover:bg-brand-purple/90 disabled:opacity-50 transition",children:p?"Creating...":"Create Repository"})]})]})]})})}function u(){let[e,t]=(0,n.useState)(!0),[r,l]=(0,n.useState)(null),[s,i]=(0,n.useState)(null),[o,u]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await fetch("/api/auth/me");if(!e)return;if(t.ok){let e=await t.json();l(e.user)}else l(null)}catch(e){l(null)}finally{e&&t(!1)}})(),()=>{e=!1}},[]),(0,n.useEffect)(()=>{r&&u(!0)},[r]),e)return(0,a.jsx)("div",{className:"p-6",children:"Loading editor..."});if(o&&r){let e=localStorage.getItem("sitewise.puckData"),t=e?JSON.parse(e):void 0;return(0,a.jsx)(d,{onSelectRepo:(e,t)=>{i({owner:e,name:t,html_url:"https://github.com/".concat(e,"/").concat(t)}),u(!1)},onClose:()=>u(!1),initialData:t})}return r?(0,a.jsx)(c,{}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,a.jsxs)("div",{className:"max-w-xl w-full text-center bg-neutral-900 border border-white/10 p-8 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to edit"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"You must sign in with GitHub to access the editor and commit changes to your repository."}),(0,a.jsx)("a",{href:"/api/auth/login",className:"inline-flex items-center justify-center px-6 py-3 bg-brand-purple text-white rounded-lg font-semibold hover:bg-brand-purple/90",children:"Sign in with GitHub"})]})})}},2762:(e,t,r)=>{Promise.resolve().then(r.bind(r,2310))},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2821),n=r(5889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},8123:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),n=r(2115),l=r(6673),s=r(3101),i=r(5016);let o=(0,s.F)("\n    inline-flex items-center justify-center whitespace-nowrap rounded-lg \n    font-semibold text-sm transition-all duration-200 ease-material\n    focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-purple focus-visible:ring-offset-2 focus-visible:ring-offset-black\n    disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none\n    relative overflow-hidden group\n    cursor-pointer select-none\n  ",{variants:{variant:{glow:"\n          bg-gradient-to-br from-brand-purple to-brand-blue text-white font-bold\n          shadow-lg shadow-brand-purple/30\n          hover:shadow-xl hover:shadow-brand-purple/50 \n          hover:-translate-y-1.5 hover:scale-105\n          active:translate-y-0 active:scale-95 active:shadow-md\n          focus-visible:ring-2 focus-visible:ring-brand-purple/50\n          transition-all duration-200 ease-material\n          before:absolute before:inset-0 before:bg-white before:opacity-0 before:transition-opacity before:duration-200\n          hover:before:opacity-10\n          relative\n        ","glow-premium":"\n          bg-gradient-to-r from-brand-purple via-brand-blue to-brand-pink text-white font-bold\n          shadow-[0_0_40px_rgba(94,106,210,0.5)]\n          hover:shadow-[0_0_60px_rgba(94,106,210,0.7)]\n          hover:-translate-y-1.5 hover:scale-105\n          active:translate-y-0 active:scale-95\n          focus-visible:ring-2 focus-visible:ring-brand-purple/50\n          transition-all duration-200 ease-material\n          after:absolute after:inset-0 after:bg-gradient-to-r after:from-white/20 after:to-transparent after:opacity-0 after:hover:opacity-100 after:transition-opacity after:duration-300\n        ",outline:"\n          border-2 border-border-light bg-transparent text-text-primary font-semibold\n          hover:border-brand-purple hover:bg-glass-light hover:scale-105 hover:-translate-y-1\n          hover:shadow-[0_0_30px_rgba(94,106,210,0.3)]\n          active:border-brand-purple/80 active:scale-95 active:translate-y-0\n          focus-visible:ring-2 focus-visible:ring-brand-purple/50\n          transition-all duration-200 ease-material\n        ","outline-hover":"\n          border-2 border-border-medium bg-glass-light text-text-primary font-medium\n          hover:border-brand-purple hover:bg-glass-medium hover:scale-105\n          hover:shadow-[0_0_40px_rgba(94,106,210,0.4)]\n          hover:-translate-y-0.5\n          active:translate-y-0 active:scale-95\n          focus-visible:ring-2 focus-visible:ring-brand-purple/50\n          transition-all duration-200 ease-material\n        ",ghost:"\n          bg-transparent text-text-secondary font-semibold\n          hover:text-text-primary hover:bg-glass-light hover:scale-105 hover:-translate-y-0.5\n          hover:shadow-md\n          active:translate-y-0 active:scale-95\n          focus-visible:ring-2 focus-visible:ring-brand-purple/30\n          transition-all duration-200 ease-material\n        ",secondary:"\n          bg-glass-medium border border-border-light text-text-primary font-semibold\n          hover:bg-glass-heavy hover:border-brand-purple/50 hover:scale-105\n          hover:shadow-[0_0_30px_rgba(94,106,210,0.3)]\n          hover:-translate-y-0.5\n          active:translate-y-0 active:scale-95\n          focus-visible:ring-2 focus-visible:ring-brand-purple/50\n          transition-all duration-200 ease-material backdrop-blur-md\n        ",minimal:"\n          bg-transparent text-brand-purple font-semibold\n          hover:text-brand-purple-light \n          hover:translate-x-1\n          active:translate-x-0\n          focus-visible:ring-2 focus-visible:ring-brand-purple/30\n          transition-all duration-200 ease-material\n          underline-offset-2 hover:underline\n        ",accent:"\n          bg-gradient-to-r from-brand-pink to-brand-purple text-white font-bold\n          shadow-lg shadow-brand-pink/30\n          hover:shadow-xl hover:shadow-brand-pink/50\n          hover:-translate-y-1.5 hover:scale-105\n          active:translate-y-0 active:scale-95\n          focus-visible:ring-2 focus-visible:ring-brand-pink/50\n          transition-all duration-200 ease-material\n        "},size:{xs:"h-8 px-3 text-xs",sm:"h-9 px-4 text-sm",default:"h-11 px-6 text-sm",lg:"h-12 px-8 text-base",xl:"h-14 px-10 text-lg","2xl":"h-16 px-12 text-xl"},fullWidth:{true:"w-full sm:w-auto",false:""}},defaultVariants:{variant:"glow",size:"default",fullWidth:!1}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,fullWidth:c,asChild:d=!1,isLoading:u=!1,children:p,disabled:b,...h}=e,x=d?l.DX:"button";return(0,a.jsxs)(x,{className:(0,i.cn)(o({variant:n,size:s,fullWidth:c,className:r}),"group relative"),ref:t,disabled:b||u,...h,children:[(0,a.jsx)("span",{className:"absolute inset-0 overflow-hidden rounded-lg pointer-events-none",children:(0,a.jsx)("span",{className:"absolute inset-0 bg-white opacity-0 group-active:opacity-20 scale-0 group-active:scale-100 transition-transform duration-500 origin-center rounded-full"})}),(0,a.jsxs)("span",{className:"relative flex items-center justify-center gap-2 transition-all duration-200",children:[u?(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,p]})]})});c.displayName="Button"}},e=>{e.O(0,[600,299,329,125,262,330,441,255,358],()=>e(e.s=2762)),_N_E=e.O()}]);